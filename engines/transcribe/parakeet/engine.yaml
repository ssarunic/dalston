schema_version: "1.0"
id: parakeet
stage: transcribe
name: NVIDIA Parakeet
version: 1.0.0
description: |
  NVIDIA Parakeet FastConformer RNNT for fast English-only transcription.
  Produces native word-level timestamps without separate alignment.
  Achieves RTFx >2000 with competitive WER (~7.2% average).

container:
  gpu: required  # Requires NVIDIA GPU with CUDA
  memory: 8G
  model_cache: /models

capabilities:
  languages:
    - en  # English only
  max_audio_duration: 7200  # 2 hours
  streaming: true  # Native streaming support (used by realtime variant)
  word_timestamps: true  # Native word-level timestamps via RNNT alignment

input:
  audio_formats:
    - wav
  sample_rate: 16000
  channels: 1

config_schema:
  type: object
  properties:
    model:
      type: string
      enum:
        - nvidia/parakeet-rnnt-0.6b
        - nvidia/parakeet-rnnt-1.1b
      default: nvidia/parakeet-rnnt-0.6b
      description: Parakeet model variant (0.6B faster, 1.1B more accurate)
  additionalProperties: false

output_schema:
  type: object
  required:
    - text
    - segments
    - language
  properties:
    text:
      type: string
      description: Full transcript text
    segments:
      type: array
      description: Transcript segments with timestamps
      items:
        type: object
        required:
          - start
          - end
          - text
        properties:
          start:
            type: number
            description: Start time in seconds
          end:
            type: number
            description: End time in seconds
          text:
            type: string
            description: Segment text
          words:
            type: array
            description: Word-level timestamps (native from RNNT)
            items:
              type: object
              properties:
                word:
                  type: string
                start:
                  type: number
                end:
                  type: number
                confidence:
                  type: number
    language:
      type: string
      description: Language code (always "en" for Parakeet)
    language_confidence:
      type: number
      description: Confidence in language (always 1.0 for Parakeet)
