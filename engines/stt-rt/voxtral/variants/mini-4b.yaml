schema_version: "1.1"
id: voxtral-mini-4b
type: realtime
name: Voxtral Mini 4B
version: 1.0.0
description: |
  Real-time streaming transcription using Mistral Voxtral-Mini-4B-Realtime.
  Achieves <500ms latency with configurable delay (80ms-2400ms).
  Supports 13 languages with native streaming architecture.

container:
  gpu: required
  memory: 18G
  model_cache: /models

capabilities:
  languages:
    - en
    - zh
    - hi
    - es
    - ar
    - fr
    - pt
    - ru
    - de
    - ja
    - ko
    - it
    - nl
  max_concurrency: 4
  streaming: true
  word_timestamps: true

server:
  port: 9000
  protocol: websocket
  path: /session

audio:
  encodings:
    - pcm_s16le
    - pcm_f32le
  sample_rates:
    - 16000
  channels: 1

vad:
  engine: silero
  threshold: 0.5
  min_speech_duration_ms: 250
  min_silence_duration_ms: 500
  lookback_ms: 300

heartbeat:
  interval_seconds: 10
  timeout_seconds: 30

environment:
  WORKER_ID:
    description: Unique identifier for this worker
    required: true
  WORKER_PORT:
    description: WebSocket server port
    default: "9000"
  MAX_SESSIONS:
    description: Maximum concurrent sessions
    default: "4"
  REDIS_URL:
    description: Redis connection URL
    default: redis://localhost:6379
  MODEL_SIZE:
    description: Voxtral model size variant
    default: "mini-4b"
  TRANSCRIPTION_DELAY_MS:
    description: Transcription delay in milliseconds (80-2400)
    default: "480"

hf_compat:
  pipeline_tag: automatic-speech-recognition
  library_name: transformers
  license: apache-2.0

hardware:
  min_vram_gb: 16
  recommended_gpu:
    - a10g
    - l4
    - rtx4090
    - a100
  supports_cpu: false
  min_ram_gb: 24

performance:
  rtf_gpu: 0.08
  rtf_cpu: null
  warm_start_latency_ms: 200
